pipeline {
    agent any

    stages {
        stage('Build1') {
            steps {
               sh '''
               echo "Wow!"
               cd /home/ubuntu/git/Project-CI-CD-
                docker build -t date_server .
                docker tag date_server:latest demka1/date_server:latest
                docker push demka1/date_server:latest
               '''
               }
        }
    
        stage('Create_aws_instances') {
            steps {
            sh '''
            cd /home/ubuntu/git/Terraform
	    terraform apply -lock=false & -auto-approve
            '''
            
        }
    
}

}
}
